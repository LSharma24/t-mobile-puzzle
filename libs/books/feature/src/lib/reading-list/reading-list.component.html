<div *ngIf="(readingList$ | async) as readingList">
  <ng-container *ngIf="readingList.length; else empty">
    <div class="reading-list-item" *ngFor="let book of readingList">
      <div>
        <img class="reading-list-item--cover" [src]="book.coverUrl" alt="" />
      </div>
      <div class="reading-list-item--details">
        <strong class="reading-list-item--details--title">{{ book.title }}</strong>
        <div class="reading-list-item--details--author">
          {{ book.authors.join(',') }}
        </div>
        <div *ngIf="book.finishedDate" class="reading-list-item--details--author finished-date" data-testing="finish-date">
          Finished on: {{ book.finishedDate | date }}
        </div>
      </div>
      <div>
        <button
          mat-icon-button
          title="{{ book.finished ? 'Finished' : 'Finish book' }}"
          color="primary"
          [attr.aria-label]="'Mark ' + book.title + ' as finished'"
          (click)="markBookFinished(book.bookId)"
          data-testing="mark-as-finished-icon"
          [disabled]="book.finished"
        >
          <mat-icon>check_circle</mat-icon>
        </button>
      </div>
      <div>
        <button
          mat-icon-button
          color="warn"
          [attr.aria-label]="'Remove ' + book.title + ' from reading list'"
          (click)="removeFromReadingList(book)"
          data-testing="remove-icon"
        >
          <mat-icon>remove_circle</mat-icon>
        </button>
      </div>
    </div>
  </ng-container>
  <ng-template #empty>
    <p class="empty">You haven't added any books to your reading list yet.</p>
  </ng-template>
</div>
